#functions { shego { append_separator [ [ #single source ] [ #single separator ] #boolean [ #data #equals ] [ #scope:source:-1 ] [ #scope:separator ] #if [ #data #true ] [ #last ] #return [ #scope:source ] #end #string [ #scope:source ] [ #scope:separator ] #return [ #last ] ] base_directory [ [ #single path [ string ] ] #boolean [ #data #not_contains ] [ #scope:path ] [ #data '/' ] #if [ #data #true ] [ #last ] #return [ #data "" ] #end #position [ #scope:path ] [ #data '/' ] #modify [ #data #scope:_0 ] [ #last ] #index [ #scope:_0 ] [ #data -1 ] #modify [ #data #scope:_1 ] [ #last ] #modify [ #data #scope:last_position ] [ #scope:_1 ] #slice [ #scope:path ] [ #data 1 ] [ #scope:last_position ] #modify [ #data #scope:_2 ] [ #last ] #modify [ #data #scope:directory ] [ #scope:_2 ] #return [ #scope:directory ] ] boolean_from_string [ [ #single value ] [ #single variable ] #boolean [ #data #equals ] [ #scope:value ] [ #data "true" ] #modify [ #data #scope:_0 ] [ #last ] #boolean [ #data #equals ] [ #scope:value ] [ #data "TRUE" ] #modify [ #data #scope:_1 ] [ #last ] #boolean [ #data #or ] [ #scope:_0 ] [ #scope:_1 ] #if [ #data #true ] [ #last ] #return [ #data !true ] #else #boolean [ #data #equals ] [ #scope:value ] [ #data "false" ] #modify [ #data #scope:_2 ] [ #last ] #boolean [ #data #equals ] [ #scope:value ] [ #data "FALSE" ] #modify [ #data #scope:_3 ] [ #last ] #boolean [ #data #or ] [ #scope:_2 ] [ #scope:_3 ] #if [ #data #true ] [ #last ] #return [ #data !false ] #else #string [ #data "invalid value \"" ] [ #scope:value ] [ #data "\" for environment variable " ] [ #scope:variable ] [ #data "; valid values are \"true\", \"TRUE\", \"false\"and \"FALSE\"" ] #modify [ #data #scope:_4 ] [ #last ] #error [ #scope:_4 ] #end #end ] generate_colors [ #system_name #modify [ #data #scope:_0 ] [ #last ] #modify [ #data #scope:operating_system ] [ #scope:_0 ] #boolean [ #data #equals ] [ #scope:operating_system ] [ #data "linux" ] #modify [ #data #scope:_1 ] [ #last ] #boolean [ #data #equals ] [ #scope:operating_system ] [ #data "ios" ] #modify [ #data #scope:_2 ] [ #last ] #boolean [ #data #or ] [ #scope:_1 ] [ #scope:_2 ] #if [ #data #true ] [ #last ] #modify [ #data #root:colors ] [ #data { black "\e[30m" blue "\e[34m" cyan "\e[36m" green "\e[32m" magenta "\e[35m" none "\e[0m" red "\e[31m" white "\e[37m" yellow "\e[33m" } ] #else #modify [ #data #root:colors ] [ #data { black "" blue "" cyan "" green "" magenta "" none "" red "" white "" yellow "" } ] #end ] instance_info [ [ #single instance ] #type [ #scope:instance ] #modify [ #data #scope:_0 ] [ #last ] #modify [ #data #scope:type ] [ #scope:_0 ] #serialize [ #scope:instance ] #modify [ #data #scope:_1 ] [ #last ] #modify [ #data #scope:data ] [ #scope:_1 ] #string [ #root:colors:cyan ] [ #scope:type ] [ #data ' ' ] [ #root:colors:blue ] [ #scope:data ] [ #root:colors:none ] #return [ #last ] ] print_build [ [ #list messages ] #push [ #scope:messages ] [ #data "build" ] [ #root:colors:cyan ] #modify [ #data #scope:_0 ] [ #last ] #modify [ #data #scope:parameters ] [ #scope:_0 ] #call_list [ #data shego:print_color ] [ #scope:parameters ] ] print_clean [ [ #list messages ] #push [ #scope:messages ] [ #data "clean" ] [ #root:colors:yellow ] #modify [ #data #scope:_0 ] [ #last ] #modify [ #data #scope:parameters ] [ #scope:_0 ] #call_list [ #data shego:print_color ] [ #scope:parameters ] ] print_color [ [ #single color [ string ] ] [ #single sender ] [ #list messages ] #call [ #data shego:tag ] [ #scope:color ] [ #scope:sender ] #modify [ #data #scope:_0 ] [ #last ] #modify [ #data #scope:tag ] [ #scope:_0 ] #push [ #scope:messages ] [ #data ' ' ] [ #scope:tag ] #modify [ #data #scope:_1 ] [ #last ] #modify [ #data #scope:parameters ] [ #scope:_1 ] #invoke [ #data #print_line ] [ #scope:parameters ] ] print_debug [ [ #list messages ] #if [ #data #true ] [ #root:debug ] #push [ #scope:messages ] [ #data "debug" ] [ #root:colors:magenta ] #modify [ #data #scope:_0 ] [ #last ] #modify [ #data #scope:parameters ] [ #scope:_0 ] #call_list [ #data shego:print_color ] [ #scope:parameters ] #end ] print_error [ [ #list messages ] #push [ #scope:messages ] [ #data "error" ] [ #root:colors:red ] #modify [ #data #scope:_0 ] [ #last ] #modify [ #data #scope:parameters ] [ #scope:_0 ] #call_list [ #data shego:print_color ] [ #scope:parameters ] ] print_lucky [ #modify [ #data #scope:color ] [ #root:colors:magenta ] #length [ #root:lucky ] #modify [ #data #scope:_0 ] [ #last ] #modify [ #data #scope:length ] [ #scope:_0 ] #random [ #data 1 ] [ #scope:length ] #modify [ #data #scope:_1 ] [ #last ] #modify [ #data #scope:choice ] [ #scope:_1 ] #index [ #root:lucky ] [ #scope:choice ] #modify [ #data #scope:_2 ] [ #last ] #modify [ #data #scope:message ] [ #scope:_2 ] #replace [ #scope:message ] [ #data "{black}" ] [ #root:colors:black ] #modify [ #data #scope:_3 ] [ #last ] #modify [ #data #scope:message ] [ #scope:_3 ] #replace [ #scope:message ] [ #data "{red}" ] [ #root:colors:red ] #modify [ #data #scope:_4 ] [ #last ] #modify [ #data #scope:message ] [ #scope:_4 ] #replace [ #scope:message ] [ #data "{green}" ] [ #root:colors:green ] #modify [ #data #scope:_5 ] [ #last ] #modify [ #data #scope:message ] [ #scope:_5 ] #replace [ #scope:message ] [ #data "{yellow}" ] [ #root:colors:yellow ] #modify [ #data #scope:_6 ] [ #last ] #modify [ #data #scope:message ] [ #scope:_6 ] #replace [ #scope:message ] [ #data "{blue}" ] [ #root:colors:blue ] #modify [ #data #scope:_7 ] [ #last ] #modify [ #data #scope:message ] [ #scope:_7 ] #replace [ #scope:message ] [ #data "{magenta}" ] [ #root:colors:magenta ] #modify [ #data #scope:_8 ] [ #last ] #modify [ #data #scope:message ] [ #scope:_8 ] #replace [ #scope:message ] [ #data "{cyan}" ] [ #root:colors:cyan ] #modify [ #data #scope:_9 ] [ #last ] #modify [ #data #scope:message ] [ #scope:_9 ] #replace [ #scope:message ] [ #data "{white}" ] [ #root:colors:white ] #modify [ #data #scope:_10 ] [ #last ] #modify [ #data #scope:message ] [ #scope:_10 ] #replace [ #scope:message ] [ #data "{none}" ] [ #root:colors:none ] #modify [ #data #scope:_11 ] [ #last ] #modify [ #data #scope:message ] [ #scope:_11 ] #call [ #data shego:print_color ] [ #scope:color ] [ #data "lucky" ] [ #scope:message ] ] print_pass [ [ #single pass [ literal ] ] [ #list messages ] #call [ #data shego:tag ] [ #root:colors:magenta ] [ #scope:pass ] #modify [ #data #scope:_0 ] [ #last ] #modify [ #data #scope:tag ] [ #scope:_0 ] #push [ #scope:messages ] [ #data ' ' ] [ #scope:tag ] #modify [ #data #scope:_1 ] [ #last ] #modify [ #data #scope:parameters ] [ #scope:_1 ] #call_list [ #data shego:print_debug ] [ #scope:parameters ] ] print_success [ [ #list messages ] #push [ #scope:messages ] [ #data "success" ] [ #root:colors:green ] #modify [ #data #scope:_0 ] [ #last ] #modify [ #data #scope:parameters ] [ #scope:_0 ] #call_list [ #data shego:print_color ] [ #scope:parameters ] ] print_warning [ [ #list messages ] #push [ #scope:messages ] [ #data "warning" ] [ #root:colors:yellow ] #modify [ #data #scope:_0 ] [ #last ] #modify [ #data #scope:parameters ] [ #scope:_0 ] #call_list [ #data shego:print_color ] [ #scope:parameters ] ] process_arguments [ [ #single command_lookup ] [ #single arguments ] #modify [ #data #scope:configuration ] [ #data { } ] #length [ #scope:arguments ] #modify [ #data #scope:_0 ] [ #last ] #modify [ #data #scope:count ] [ #scope:_0 ] #modify [ #data #scope:index ] [ #data 1 ] #modify [ #data #scope:set ] [ #data [ ] ] #iterate [ #scope:command_lookup ] #modify [ #data #scope:key ] [ #last:key ] [ #data #scope:entry ] [ #last:value ] #insert [ #scope:configuration ] [ #scope:key ] [ #scope:entry:default ] #modify [ #data #scope:_1 ] [ #last ] #modify [ #data #scope:configuration ] [ #scope:_1 ] #end #boolean [ #data #not_bigger ] [ #scope:index ] [ #scope:count ] #modify [ #data #scope:_2 ] [ #last ] #while [ #data #true ] [ #scope:_2 ] #index [ #scope:arguments ] [ #scope:index ] #modify [ #data #scope:_3 ] [ #last ] #modify [ #data #scope:argument ] [ #scope:_3 ] #modify [ #data #scope:found ] [ #data !false ] #iterate [ #scope:command_lookup ] #modify [ #data #scope:key ] [ #last:key ] [ #data #scope:entry ] [ #last:value ] #boolean [ #data #equals ] [ #scope:argument ] [ #scope:entry:flag ] #modify [ #data #scope:_4 ] [ #last ] #boolean [ #data #equals ] [ #scope:argument ] [ #scope:entry:long ] #modify [ #data #scope:_5 ] [ #last ] #boolean [ #data #or ] [ #scope:_4 ] [ #scope:_5 ] #if [ #data #true ] [ #last ] #boolean [ #data #contains ] [ #scope:set ] [ #scope:key ] #modify [ #data #scope:_6 ] [ #last ] #boolean [ #data #and ] [ #scope:entry:once ] [ #scope:_6 ] #if [ #data #true ] [ #last ] #string [ #scope:key ] [ #data " flag may only be set once" ] #modify [ #data #scope:_7 ] [ #last ] #error [ #scope:_7 ] #end #boolean [ #data #string ] [ #scope:entry:default ] #if [ #data #true ] [ #last ] #boolean [ #data #bigger ] [ #scope:count ] [ #scope:index ] #modify [ #data #scope:_8 ] [ #last ] #string [ #scope:key ] [ #data " flag expected argument" ] #modify [ #data #scope:_9 ] [ #last ] #ensure [ #data #true ] [ #scope:_8 ] [ #scope:_9 ] #add [ #scope:index ] [ #data 1 ] #modify [ #data #scope:_10 ] [ #last ] #modify [ #data #scope:index ] [ #scope:_10 ] #index [ #scope:arguments ] [ #scope:index ] #modify [ #data #scope:_11 ] [ #last ] #overwrite [ #scope:configuration ] [ #scope:key ] [ #scope:_11 ] #modify [ #data #scope:_12 ] [ #last ] #modify [ #data #scope:configuration ] [ #scope:_12 ] #else #not [ #scope:entry:default ] #modify [ #data #scope:_13 ] [ #last ] #modify [ #data #scope:inverted ] [ #scope:_13 ] #overwrite [ #scope:configuration ] [ #scope:key ] [ #scope:inverted ] #modify [ #data #scope:_14 ] [ #last ] #modify [ #data #scope:configuration ] [ #scope:_14 ] #end #append [ #scope:set ] [ #scope:key ] #modify [ #data #scope:_15 ] [ #last ] #modify [ #data #scope:set ] [ #scope:_15 ] #add [ #scope:index ] [ #data 1 ] #modify [ #data #scope:_16 ] [ #last ] #modify [ #data #scope:index ] [ #scope:_16 ] #modify [ #data #scope:found ] [ #data !true ] #break #end #end #not [ #scope:found ] #if [ #data #true ] [ #last ] #string [ #data "invalid flag " ] [ #scope:argument ] #modify [ #data #scope:_17 ] [ #last ] #print_line [ #scope:_17 ] #modify [ #data #scope:configuration:help ] [ #data !true ] #break #end #boolean [ #data #not_bigger ] [ #scope:index ] [ #scope:count ] #modify [ #data #scope:_2 ] [ #last ] #end #iterate [ #scope:command_lookup ] #modify [ #data #scope:key ] [ #last:key ] [ #data #scope:entry ] [ #last:value ] #boolean [ #data #not_contains ] [ #scope:set ] [ #scope:key ] #if [ #data #true ] [ #last ] #environment [ #scope:entry:environment ] #modify [ #data #scope:_18 ] [ #last ] #modify [ #data #scope:value ] [ #scope:_18 ] #boolean [ #data #not_equals ] [ #scope:value ] [ #data #none ] #if [ #data #true ] [ #last ] #boolean [ #data #string ] [ #scope:entry:default ] #if [ #data #true ] [ #last ] #overwrite [ #scope:configuration ] [ #scope:key ] [ #scope:value ] #modify [ #data #scope:_19 ] [ #last ] #modify [ #data #scope:configuration ] [ #scope:_19 ] #else #call [ #data shego:boolean_from_string ] [ #scope:value ] [ #scope:entry:environment ] #modify [ #data #scope:_20 ] [ #last ] #modify [ #data #scope:boolean ] [ #scope:_20 ] #overwrite [ #scope:configuration ] [ #scope:key ] [ #scope:boolean ] #modify [ #data #scope:_21 ] [ #last ] #modify [ #data #scope:configuration ] [ #scope:_21 ] #end #end #end #end #iterate [ #scope:command_lookup ] #modify [ #data #scope:key ] [ #last:key ] [ #data #scope:entry ] [ #last:value ] #boolean [ #data #string ] [ #scope:entry:default ] #if [ #data #true ] [ #last ] #boolean [ #data #equals ] [ #scope:entry:default:-1 ] [ #data '/' ] #if [ #data #true ] [ #last ] #index [ #scope:configuration ] [ #scope:key ] #modify [ #data #scope:_22 ] [ #last ] #call [ #data shego:append_separator ] [ #scope:_22 ] [ #data '/' ] #modify [ #data #scope:_23 ] [ #last ] #modify [ #data #scope:directory ] [ #scope:_23 ] #overwrite [ #scope:configuration ] [ #scope:key ] [ #scope:directory ] #modify [ #data #scope:_24 ] [ #last ] #modify [ #data #scope:configuration ] [ #scope:_24 ] #end #end #end #return [ #scope:configuration ] ] tag [ [ #single color [ string ] ] [ #single content ] #string [ #data "[ " ] [ #scope:color ] [ #scope:content ] [ #root:colors:none ] [ #data " ]" ] #return [ #last ] ] write_create [ [ #single path [ string ] ] [ #single content ] #boolean [ #data #contains ] [ #scope:path ] [ #data '/' ] #if [ #data #true ] [ #last ] #position [ #scope:path ] [ #data '/' ] #modify [ #data #scope:_0 ] [ #last ] #index [ #scope:_0 ] [ #data -1 ] #modify [ #data #scope:_1 ] [ #last ] #modify [ #data #scope:last_position ] [ #scope:_1 ] #slice [ #scope:path ] [ #data 1 ] [ #scope:last_position ] #modify [ #data #scope:_2 ] [ #last ] #modify [ #data #scope:directory ] [ #scope:_2 ] #string [ #data "mkdir -p " ] [ #scope:directory ] #modify [ #data #scope:_3 ] [ #last ] #system [ #data "bash" ] [ #data "-c" ] [ #scope:_3 ] #end #string [ #data "touch " ] [ #scope:path ] #modify [ #data #scope:_4 ] [ #last ] #system [ #data "bash" ] [ #data "-c" ] [ #scope:_4 ] #write_file [ #scope:path ] [ #scope:content ] ] } #message [ [ #single message ] #call [ #data shego:tag ] [ #root:colors:red ] [ #data "error" ] #modify [ #data #scope:_0 ] [ #last ] #modify [ #data #scope:tag ] [ #scope:_0 ] #string [ #scope:tag ] [ #data ' ' ] [ #scope:message ] #return [ #last ] ] #tag [ [ #single tag ] [ #single message ] #boolean [ #data #not_present ] [ #root ] [ #data debug ] #if [ #data #true ] [ #last ] #return [ #scope:message ] #else #boolean [ #data #not_equals ] [ #root:debug ] [ #data !true ] #if [ #data #true ] [ #last ] #return [ #scope:message ] #end #end #boolean [ #data #keyword ] [ #scope:tag ] #if [ #data #true ] [ #last ] #call [ #data shego:tag ] [ #root:colors:magenta ] [ #scope:tag ] #modify [ #data #scope:_0 ] [ #last ] #modify [ #data #scope:tag ] [ #scope:_0 ] #else #call [ #data shego:tag ] [ #root:colors:cyan ] [ #scope:tag ] #modify [ #data #scope:_1 ] [ #last ] #modify [ #data #scope:tag ] [ #scope:_1 ] #end #string [ #scope:tag ] [ #data ' ' ] [ #scope:message ] #return [ #last ] ] #tokenizer [ [ #single message ] [ #single position ] #call [ #data shego:tag ] [ #root:colors:red ] [ #data "error" ] #modify [ #data #scope:_0 ] [ #last ] #modify [ #data #scope:error_tag ] [ #scope:_0 ] #string [ #scope:error_tag ] [ #data ' ' ] [ #scope:message ] #modify [ #data #scope:_1 ] [ #last ] #print_line [ #scope:_1 ] ] #unregistered_character [ [ #single character ] #string [ #data "unregistered character " ] [ #scope:character ] #return [ #last ] ] } lucky [ "it finally compiled, huh?" "{red}Exception in thread \"main\" java.lang.ArithmaticException: / by zero{none}" "42" "{yellow}R {red}A {magenta}I {blue}N {cyan}B {green}O {white}W{none}" ] 